define(["require","exports"],function(n,t){(function(n){var t=function(){function n(n,t,i,r){this.stacks=n,this.title=t,this.widgetId=i,this.buttonColor=r,this.rootUrl="";var u=document.getElementById("ApplicationRoot");u!="undefined"&&u!=null&&(this.rootUrl=u.href)}return n.prototype.run=function(n){typeof this.rootUrl=="undefined"&&(this.rootUrl="");var t="#dailyEZ-com-button-stack-selector-widget"+this.widgetId;$(t).html("<img src='"+this.rootUrl+"widgets/weather/images/loading.gif'/>"),$.ajax({type:"POST",data:{stacks:this.stacks,title:this.title,widgetID:this.widgetId,buttonColor:this.buttonColor},url:this.rootUrl+"widgets/ButtonStackSelector/ButtonStackSelectorWorker.ashx",success:function(i){return $(t).html(i),$(t+" button").click(function(){var n=$.param.fragment(window.location.href,"mId="+$(this).attr("stack-id"));window.location.href=n,$(".button-page-template button").removeClass("active"),$(this).addClass("active")}),typeof n=="function"&&n(!0),!0},error:function(){return $(t).html("<b>Error retreiving stack selector<\/b>"),typeof n=="function"&&n(!1),!1}})},n}();n.ButtonStackSelector=t})(t.Widgets||(t.Widgets={}));var i=t.Widgets})